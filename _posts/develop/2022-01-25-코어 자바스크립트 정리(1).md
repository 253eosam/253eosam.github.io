---
layout: post
title: '코어 자바스크립트 정리(1) - 데이터 타입'
categories: Develop
tags: ['JavaScript']
---

코어 자바스크립트책이 JS개발자들 사이에서 입소문이 타는것 같아서 나도 읽어보고 내 주관대로 정리해본다.

## 데이터 타입의 종류

데이터 타입으로는 기본형과 참조형으로 나눌수 있다. 기본형의 경우 불변성을 가지고, 참조형의 경우 가변성을 가지고 이 두 특징을 이용해서 **기본형/참조형**을 구분할 수 있다.

<img src="https://www.kamprasad.com/wp-content/uploads/2019/07/Javascript-DataType.png" alt="데이터 타입 다이어그램" width="400" >

- 기본형(불변) : Number, String, Boolean, Null, undefined
- 참조형(가변) : Object, Array, Function, Date, RegExp, Map, Set

불변(Immutable)이라고 한다면 데이터가 변하지 않는다고 이해하면되고, 가변(Mutable)이라고하면 값이 변한다고 생각하면된다.  
예를 들어 아래코드를 보면 변수 **a**를 선언하고, 기본형 데이터 타입인 `Number`를 할당했다고 해보자. **a**의 값에 **1**을 할당했고 그 다음 액션으로 **2**를 재할당했다. 여기까지보면 **a**의 데이터가 변했다고 생각할 수 있다. 하지만 이것은 **a가 가지고 있는 값의대한 주소값이 바뀐것이지 1의 데이터가 변한것은 아니다.**

```javascript
var a = 1
a = 2
```

더 자세히 살펴보자면, *a*는 선언과 동시에 데이터 주소를 담을수 있는 메모리가 할당되고, 할당된 메모리에 데이터가 보관되어있는(1의 값이 보관된) 주소값을 저장하게 된다. 즉 *a*에 *2*의 값이 대입해줘도 *2*가 보관된 주소값이 *a*에 담기는 것이고 *1*의 데이터는 변하지않고 유지되기때문에 이를 불변이라고 하는것이다.

그렇다면 왜 이런방식을 사용할까?  
 이는 메모리를 더욱 효율적으로 사용하기 위한 전략인데 JavaScript는 숫자 타입을 8byte를 할당해서 사용한다. (`Long`과 같은 크기를 차지하지만 담을수 있는 범위는 다름)만약 사이즈가 100이고 값이 1로 채워진 배열이 있다고 생각해보자. 이 배열은 `8byte \* 100`의 메모리를 차지하게된다. 하지만 주소값을 이용한 방식으로는 1의 값을 담을 메모리 8byte하나만 사용되고 해당 데이터를 바라보는 주소값만 가지고있으면 됨으로 메모리를 효율적으로 사용할 수 있다.(주소를 담는 메모리도 사용하지만 이는 생략)

문자열 역시 위와같은 방법으로 저장되는데 "a"라는 문자열 데이터가 사용되면 해당 데이터를 바라보는 주소값을 통해 값을 읽어올 수 있고, 여기에 "ab"로 "b"를 추가하게 기존의 "a"에 값이 추가되는 것이 아니라 새로운 데이터 "ab"를 생성하고 그 값을 바라보는 주소값을 가지게된다.

여기서 또 하나의 의문이 생길수 있다. **새로운 데이터를 만들때마다 생성하면 손해가 아닐까??** 하지만 잘 생각해보면 문자열의 용량은 한 문자당 2byte인데 이것을 가변적으로 늘렸다 줄였다하는 과정에서 메모리 영역이 변하게되고 이를 계산하는 입장에서 더 많은 비용이 소모된다. 이것을 봤을때 새로운 데이터가 나올때마다 생성하는것은 그리 비효율적이지만은 않다.

그치만 개발자 입장에선 **이렇게 불필요한 메모리를 계속 만들어야할까???** 라는 또 새로운 의문이들수 있다. 

> 변수 : 변할 수 있는 수, 변할 수 있는 데이터(숫자, 문자열, 객체, 배열 ...)  
> 식별자 : 어떤 데이터를 식별하는데 사용하는 이름, 변수명

## 데이터 타입에 관한 배경지식

## 변수 선언과 데이터 할당

## 기본형 데이터와 참조형 데이터

## 불변 객체

## undefined와 null

## 정리

---

참고

- <https://book.naver.com/bookdb/book_detail.nhn?bid=15433261>
